<!DOCTYPE html>
<html>
    <body>
        <label>Throttle (ms) <input type="number" value="1000" id="throttle"></label>
        <br>
        <label>Throttle limit <input type="number" value="1" id="throttleLimit"></label>
        <br>
        <label>Debounce (ms) <input type="number" value="100" id="debounce"></label>
        <p>My value: <span id="value">0</span></p>
        <button id="incrementButton" style="color: black; background-color: white">Increment</button>

        <script type="module">
            import Timer from "/timer-module.js";
            
            const throttleTimer = new Timer();
            const debounceTimer = new Timer();
            const incrementButton = document.getElementById("incrementButton");
            const valueElement = document.getElementById("value");

            incrementButton.addEventListener("click",() => {
                throttleTimer.throttle = document.getElementById("throttle").value;
                throttleTimer.throttleLimit = document.getElementById("throttleLimit").value;
                debounceTimer.throttle = throttleTimer.throttle;
                debounceTimer.throttleLimit = throttleTimer.throttleLimit;
                debounceTimer.debounce = document.getElementById("debounce").value;

                throttleTimer.call(() => {
                    valueElement.innerText = parseInt(valueElement.innerText) + 1;
                    incrementButton.style.color = "white";
                    incrementButton.style.backgroundColor = "black";
                });

                

                debounceTimer.call(() => {
                    incrementButton.style.color = "black";
                    incrementButton.style.backgroundColor = "white";
                });
            });
        </script>
    </body>
</html>